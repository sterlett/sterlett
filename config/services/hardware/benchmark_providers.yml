
services:
    # passmark
    app.hardware.benchmark.provider.passmark_provider.cpu.console.synchronous:
        class: Sterlett\Hardware\Benchmark\Provider\BlockingProvider
        arguments:
            - '@app.hardware.benchmark.provider.passmark_provider.cpu.console'
            - '@app.event_loop'
        tags:
            -   name: 'benchmark_provider.synchronous'
                providerId: 'PassMark'

    # mixin with tracking behavior
    app.hardware.benchmark.provider.passmark_provider.cpu.console:
        class: Sterlett\Hardware\Benchmark\Provider\PassMarkProvider
        arguments:
            - '@app.client.passmark_cpu.console'
            - '@app.hardware.benchmark.parser.passmark_parser.cpu'
            - '%app.hardware.benchmark.passmark.cpu.download_uri%'

    # async
    app.hardware.benchmark.provider.passmark_provider.cpu:
        class: Sterlett\Hardware\Benchmark\Provider\PassMarkProvider
        arguments:
            - '@app.client'
            - '@app.hardware.benchmark.parser.passmark_parser.cpu'
            - '%app.hardware.benchmark.passmark.cpu.download_uri%'
        tags:
            -   name: 'benchmark_provider'
                providerId: 'PassMark'
